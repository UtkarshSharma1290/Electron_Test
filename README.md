# AI-INTERVIEWER 

# ðŸš€ Setting-up the project

 ai-interviewer is built using create-react-app, electron and electron-builder.
 The boilerplate code generated by npx create-react-app is packaged with electron and
 electron-builder package.
 This ensures that our app can be run on both web browser and outside of web browser as a
 desktop application.

## We use the following npm packages to achieve the same :

```
 "react": "^18.3.1",
 "electron": "^30.0.1",
 "electron-builder": "^24.13.3"
```

 After setting up the react app we need to install electron and electron builder packages.

 Electron uses an entry file to run the code of your application outside the browser window
 and build a working desktop application. This file is usually called main.js or could be
 renamed as well.

 To set up an electron entry file inside our react app we have used a file called electron.js
 and put it inside the public folder (why public folder is mentioned in the next section).

 electron.js file contains a few functions which are essential to Electron's working. 

```
createWindow();
app.whenready();
app.onclose();
```

 Electron uses a TCP method to communicate between the models, which is useful when we need to
 communicate between our server-side processes/events and the client-side (Reactjs).

 The two main method used in this project are -
 ipcMain and ipcRenderer.

**ipcRenderer is used to fire events.**

**ipcMain is used to listen to events fired by ipcRenderer.**


## Updating states on server side updates 

 To update the states of our components on client side whenever we need to communicate between
 the component and Electron's server side updates (electron.js file in our case), we use the
 TCP method.

 ### Example :
 
**Component**
```
    export default Component = () => {
        const[state, setState] = useState();
        
        ipcRenderer.on('processingDone', (event, data) => {
            setState(data);
        })
        
        UseEffect(()=>{
            ipcRenderer.send('randomEvent');
        },[]);
        
        return (
            <>
                {state}
            </>
        )
    }
            
```
**electron.js** 
```
ipcMain.on('randomEvent', async (event, args) => {
    //business logic
    //return data
    event.send('processingDone', data);
})

```
    
    
## Issue with ipcRenderer in ReactJs :

 ipcRenderer cannot be used directly in ReactJs since 'window.require' is not available in
 ReactJs and it is required to use ipcRenderer.
 
 Electron provides window.require but since we are using React app and packaging it with
 electron-builder to run it on desktop, the error we get on React app will also break our
 Electron desktop app.
 
 To overcome this we have used :
     
```
if (window.require) {
    const electron = window.require("electron");
    ipcRenderer = electron.ipcRenderer;
}
else {
    ipcRenderer = {
        send: () => console.log("send is not available in web browser"),
        on: () => console.log("on is not available in web browser"),
        removeAllListeners: () => console.log("removeAllListeners is not available in web browser")
        // Add any other methods you need for testing or development in a web browser
    };
}
```
 This makes sure we do not get error with ipcRenderer on the browser running React app and also makes sure we can use ipcRenderer in our desktop app running ElectronJs where window.require is available.
 
 
 ## Updated package.json file
 
 The package.json we get after npx create-react-app needs to be updated to run electron-builder with it : 
 
```
{
  "name": "ai-interview",
  "version": "0.1.0",
  "private": true,
  "productName": "312-ai-interview",
  "main": "public/electron.js",
  "homepage": "./",
  "dependencies": {
    ...
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject",
    "start-electron": "export ELECTRON_START_URL=http://localhost:3000 && electron .",
    "package": "electron-builder build --mac --win -c.extraMetadata.main=build/electron.js --publish never",
    "publish": "electron-builder build --mac --win --publish always",
    "dist": "electron-builder"
  },
  "build": {
    "appId": "com.prashant.ai-interview-demo",
    "productName": "312-ai-interview",
    "protocols": {
      "name": "interviewappdesktop",
      "schemes": [
        "interviewappdesktop"
      ]
    },
    "icon": "src/Icons/MyIcon.icns",
    "mac": {
      "hardenedRuntime": true,
      "gatekeeperAssess": false,
      "entitlements": "./entitlements.plist",
      "entitlementsInherit": "./entitlements.plist",
      "category": "public.app-category.developer-tools",
      "publish": {
        "provider": "github",
        "owner": "Github Owner",
        "repo": "Repository Name",
        "private": true,
        "token": ""
      }
    },
    "files": [
      "build/**/*",
      "node_modules/**/*"
    ],
    "publish": {
      "provider": "github",
      "private": true,
      "owner": "Github Owner"
    }
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  },
  "devDependencies": {
    "electron": "^30.0.8",
    "electron-builder": "^24.13.3",
    "tailwindcss": "^3.4.3"
  },
  "browser": {
    "crypto": false
  }
}

        
```

***
# Folder Strcuture
```
|-public
|---utils
|-src
|---Icons
|---assets
|-----gifs
|-----img
|-----svg
|---components
|-----includes
|-----molecules
|-------headings
|---constant
|---context
|-----Process
|-----Theme
|---hooks
|---interceptors
|---pages
|---utils
|---views

```
**Definitions**:
```
|- public:  
  Contains static assets that will be served by the server without processing by Webpack. This usually includes the `index.html` file, icons, and other files that need to be publicly accessible.

|--- utils:  
  General utility functions that might be used throughout the project, such as formatting functions, date handlers, etc.

|- src:  
  Contains all the source code for the React application. This is where the main development work happens.

|--- Icons:  
  A directory for storing reusable icon components. These can be custom SVG icons or imported icons from icon libraries.

|--- assets:  
  Contains various asset files used in the project like images, GIFs, and SVGs.

|----- gifs:  
  A subdirectory under `assets` specifically for storing GIF files.

|----- img:  
  A subdirectory under `assets` specifically for storing image files like JPEGs, PNGs, etc.

|----- svg:  
  A subdirectory under `assets` specifically for storing SVG files.

|--- components:  
  Contains all React components used in the project. Components can be further organized into subdirectories based on their type or function.

|----- includes:  
  Components that are included across multiple parts of the application, such as headers, footers, or sidebars.

|----- molecules:  
  Components that represent a small group of UI elements functioning together as a unit

|------- headings:  
  A specific type of molecule components related to headings or titles, possibly including various styles and sizes of heading elements.

|--- constant:  
  Holds constant values, enums, or configuration objects used throughout the application. This can include API endpoints, action types, or other constant data.

|--- context:  
  Contains React Context API implementations for managing global state or context-specific logic.

|----- Process:  
  Context related to processes in the application, potentially managing state or logic around multi-step processes or workflows.

|----- Theme:  
  Context related to theming, such as managing light/dark mode, color schemes, and other UI-related states.

|--- hooks:  
  Custom React hooks that encapsulate reusable logic. These can be hooks for data fetching, state management, or any other logic that can be shared across components.

|--- interceptors:  
  Contains HTTP interceptors for managing API request and response handling, such as adding authorization headers, handling errors, or logging.

|--- pages:  
  Contains the main page components that represent different routes in the application. Each page is typically tied to a route defined in the router.

|--- utils:  
  Utility functions specific to the application, potentially including helpers for string manipulation, data transformation, or other common tasks.

|--- views:  
  Components that are tied to specific views or sections of the application, possibly grouping together multiple components to form a complete view.
```

# Installation process

0. **Download Node.js:**
   - Ensure you have Node.js version 20 or above installed on your machine. You can download it from the [official Node.js website](https://nodejs.org/).

1. **Clone the Repository:**
   - Clone the repository to your local machine using the following command:
     ```bash
     git clone <repository-url>
     ```

2. **Install Dependencies:**
   - Navigate to the project folder and run `npm install` to install all the necessary Node.js dependencies:
     ```bash
     cd <project-folder>
     npm install
     ```

3. **Modify the `node-record-lpcm16` Package:**
   - Replace the currently present node-record-lpcm16 folder with this updated and customized node-record-lpcm16 folder.
   link: https://drive.google.com/drive/folders/1iY4otBBqH46oXVznsq_s5PSE05ta6RMr?usp=sharing

4. **Start the Project:**
   - Run `npm start` in your terminal to start the project. Make sure you are in the root directory of your project folder when executing this command:
     ```bash
     npm start
     ```

5. **Start Electron:**
   - Open another terminal window and run `npm run start-electron` to start the Electron application:
     ```bash
     npm run start-electron
     ```

By following these steps, you will set up your project with the required dependencies, apply the necessary modifications to the `node-record-lpcm16` package, and run both the main project and the Electron application.